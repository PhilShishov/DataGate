@model Pharus.App.Models.ViewModels.Entities.SpecificEntityViewModel
@{
    var controllerName = this.ViewContext.RouteData.Values["controller"].ToString();
}

<div class="w-100 d-flex justify-content-center mt-1 mb-3">
    <div>
        <input type="date"
               id="date-pharus"
               asp-for="ChosenDate"
               min="2018-01-01" max=@DateTime.Today.ToString("yyyy-MM-dd")>

        <input type="submit"
               class="btn btn-primary btn-sm mb-1"
               asp-for="Command"
               value="Update Table"></>
    </div>

    <div class="mx-2">
        <a href='/@controllerName/All'
           class="btn btn-primary btn-sm mb-2">
            Back To All
        </a>
    </div>

    <div>
        <button type="button"
                class="btn btn-primary btn-sm mb-2"
                data-toggle="modal"
                data-target="#upProspModal">
            Upload Prospectus
        </button>
    </div>

    <div class="mx-2">
        <button type="button"
                class="btn btn-primary btn-sm mb-2"
                data-toggle="modal"
                data-target="#upAgrModal">
            Upload Agreement
        </button>
    </div>

    @if (this.User.IsInRole("Admin"))
    {
        <div>
            @if (controllerName == "Funds")
            {
                <a href="/Funds/EditFund/@Model.EntityId/@Model.ChosenDate"
                   class="btn btn-primary btn-sm mb-2">
                    Edit Fund
                </a>
            }
            else if (controllerName == "SubFunds")
            {
                <a href="/SubFunds/EditSubFund/@Model.EntityId/@Model.ChosenDate"
                   class="btn btn-primary btn-sm mb-2">
                    Edit Sub Fund
                </a>
            }
            else if (controllerName == "ShareClasses")
            {
                <a href="/ShareClasses/EditShareClass/@Model.EntityId/@Model.ChosenDate"
                   class="btn btn-primary btn-sm mb-2">
                    Edit Share Class
                </a>
            }
        </div>
    }

    <input type="number"
           asp-for="EntityId" hidden>

    <input type="text"
           asp-for="FileNameToDisplay" hidden>
</div>